version: 2.1
orbs:
  docker: circleci/docker@1.7.0

jobs:
  example-job:
    machine: true
    resource_class: vishal-chavda/cicdrunner
#    docker:
      # replace with your preferred image
#      - image: cimg/base:stable
    steps:
      - checkout
      - setup_remote_docker:
          version: 20.10.7
      - run:
          name: Build docker image
          command: |
            docker build -t simpleapp .
#      - docker/build:
#          attach-at: ./ 
#          debug: false 
#          docker-context: ./ 
#          dockerfile: dockerfile 
#          image: node:16-alpine 

workflows:
  example-workflow:
    jobs:
      - example-job